//
//  PickerViewController.m
//  Pruebas
//
//  Created by Julio Banda on 19/09/18.
//  Copyright Â© 2018 Julio Banda. All rights reserved.
//

#import "PickerViewController.h"
#import "PickerViewController+Picker.h"
#import "UIImage+Gif.h"
#import "Strings.h"

@interface PickerViewController ()
@property (nonatomic, weak) IBOutlet UITextField *captionTextField;
@end

@implementation PickerViewController
@synthesize imageView;

- (IBAction) launchVideoCamera: (UIButton *) button {
    
    UIAlertController *alertController = [UIAlertController alertControllerWithTitle: CREATE_GIF message: EMPTY_STRING preferredStyle: UIAlertControllerStyleActionSheet];
    UIAlertAction *cameraRoll = [UIAlertAction actionWithTitle: CAMERA_ROLL style:UIAlertActionStyleDefault handler:^(UIAlertAction *action){
        if([UIImagePickerController isSourceTypeAvailable: UIImagePickerControllerSourceTypeCamera]){
            [self launchCamera];
        }
    }];
    
    alertController.view.tintColor = [UIColor purpleColor];
    
    UIAlertAction *share = [UIAlertAction actionWithTitle: SHARE style:UIAlertActionStyleDefault handler:^(UIAlertAction *action) {
        [self presentActivityViewController];
    }];
    
    [alertController addAction: cameraRoll];
    [alertController addAction: share];
    [self presentViewController:alertController animated:YES completion:nil];
    
}

- (void) presentActivityViewController {
    
    NSString *imageData = @"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";
    
    NSData *animatedGif = [imageData dataUsingEncoding: NSUTF8StringEncoding];
    NSArray *itemsToShare = [NSArray arrayWithObjects: animatedGif, nil];
    
    UIActivityViewController *activityController = [[UIActivityViewController alloc] initWithActivityItems: itemsToShare applicationActivities:nil];
    [activityController setCompletionWithItemsHandler:^(UIActivityType activityType, BOOL completed, NSArray *returnedItems, NSError *activityError) {
        if (completed) {
            [self dismissViewControllerAnimated:YES completion:nil];
        }
    }];
    
    [self presentViewController: activityController animated:YES completion:nil];
}

@end
